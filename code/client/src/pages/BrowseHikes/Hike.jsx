import { useEffect, useState } from 'react'
// import { useParams } from 'react-router-dom'

import { Col, Button, Alert } from 'react-bootstrap'

import axios from 'axios'

import { HikeDetails } from '@components/features'

const dummy = {
    id: 1,
    title: "Sentiero per il Monte Ferra",
    writer: "Mario Rossi",
    maxElevation: "3094",
    description: "Descrizione del Sentiero per il Monte Ferra, in Val Varaita. Partenza da Rifugio MelezÃ¨ a Bellino, in provincia di Cuneo.",
    difficulty: "Tourist",
    length: "13",
    totalAscent: "1280",
    expectedTime: {
        hours: 5,
        minutes: 30
    },
    province: 2,
    city: 1001,
    startPoint: {
        name: "Rifugio Dummy",
        coords: [44.57425086759031, 6.982689192518592]
    },
    endPoint: {
        name: "Rifugio Dummy",
        coords: [44.57585508003831, 6.974001601338387]
    },
    referencePoints: [
        { name: "Parcheggio" },
        { name: "Rifugio" },
        { name: "Vista sulla pianura" },
    ],
    track: [
        [44.57425086759031, 6.982689192518592,],
        [44.574240474030375, 6.982681564986706,],
        [44.57422840408981, 6.982677625492215,],
        [44.57421868108213, 6.982678966596723,],
        [44.574221447110176, 6.982676116749644,],
        [44.574228907004, 6.982676703482866,],
        [44.574239971116185, 6.982689779251814,],
        [44.57423678599298, 6.982690365985036,],
        [44.574228655546904, 6.982691287994385,],
        [44.574213065207005, 6.982695311307907,],
        [44.57420342601836, 6.982679720968008,],
        [44.574204264208674, 6.982672177255154,],
        [44.574221950024366, 6.982652647420764,],
        [44.574233097955585, 6.982642924413085,],
        [44.57422354258597, 6.982640912756324,],
        [44.574226811528206, 6.9826456066221,],
        [44.57426603883505, 6.982634793967009,],
        [44.57426360808313, 6.982654239982367,],
        [44.574263272807, 6.982655916363001,],
        [44.57423485815525, 6.982687264680862,],
        [44.574222369119525, 6.982704615220428,],
        [44.5742373727262, 6.982690617442131,],
        [44.57423527725041, 6.982661616057158,],
        [44.57424030639231, 6.982655748724937,],
        [44.574215076863766, 6.982672177255154,],
        [44.57422815263271, 6.982692293822765,],
        [44.5742476824671, 6.982655413448811,],
        [44.57425371743739, 6.982640409842134,],
        [44.574249777942896, 6.982623059302568,],
        [44.574244916439056, 6.982656754553318,],
        [44.57426603883505, 6.98264510370791,],
        [44.57425229251385, 6.982628675177693,],
        [44.57418154925108, 6.98249607346952,],
        [44.57418682985008, 6.982189463451505,],
        [44.57419621758163, 6.982079995796084,],
        [44.57417224533856, 6.982015706598759,],
        [44.57419764250517, 6.98191462084651,],
        [44.574176939204335, 6.98182376101613,],
        [44.57417802885175, 6.981538021937013,],
        [44.57418071106076, 6.981207858771086,],
        [44.57418791949749, 6.980937542393804,],
        [44.57419102080166, 6.980655742809176,],
        [44.574223374947906, 6.980357179418206,],
        [44.57422320730984, 6.98000748641789,],
        [44.574244832620025, 6.979802716523409,],
        [44.57429185509682, 6.979537261649966,],
        [44.57435731776059, 6.979227717965841,],
        [44.57439444959164, 6.978952037170529,],
        [44.57445764914155, 6.978615503758192,],
        [44.57452202215791, 6.978274025022984,],
        [44.57457625307143, 6.977904550731182,],
        [44.57461497746408, 6.977592827752233,],
        [44.574610283598304, 6.977306585758924,],
        [44.574605422094464, 6.977075831964612,],
        [44.57460047677159, 6.976830242201686,],
        [44.574606427922845, 6.976585406810045,],
        [44.57459243014455, 6.976366303861141,],
        [44.574572229757905, 6.976201850920916,],
        [44.57458178512752, 6.976120211184025,],
        [44.57460902631283, 6.976111577823758,],
        [44.574720254167914, 6.97633596137166,],
        [44.57474749535322, 6.976391701027751,],
        [44.57479761913419, 6.976396227255464,],
        [44.57478906959295, 6.976155582815409,],
        [44.574740789830685, 6.975878141820431,],
        [44.574682116508484, 6.975582428276539,],
        [44.57467708736658, 6.97549500502646,],
        [44.57474732771516, 6.975474301725626,],
        [44.57478060387075, 6.975425602868199,],
        [44.574784291908145, 6.975150927901268,],
        [44.57475369796157, 6.975061576813459,],
        [44.57468152977526, 6.974940793588758,],
        [44.57459896802902, 6.974844234064221,],
        [44.57451917231083, 6.974759660661221,],
        [44.57445505075157, 6.974708028137684,],
        [44.574478352442384, 6.974597051739693,],
        [44.57455546595156, 6.974558578804135,],
        [44.57453828305006, 6.974492948502302,],
        [44.574494110420346, 6.974389515817165,],
        [44.574448596686125, 6.974316593259573,],
        [44.574386486783624, 6.974326400086284,],
        [44.57435932941735, 6.974224979057908,],
        [44.574342146515846, 6.974180387333035,],
        [44.574316665530205, 6.974139232188463,],
        [44.57434901967645, 6.974021885544062,],
        [44.57434248179197, 6.974020209163427,],
        [44.57442009821534, 6.973952734842896,],
        [44.574464187026024, 6.973999422043562,],
        [44.574507772922516, 6.973953237757087,],
        [44.57454641349614, 6.974026076495647,],
        [44.574590250849724, 6.974054155871272,],
        [44.574647918343544, 6.97403253056109,],
        [44.57470893859863, 6.974050551652908,],
        [44.5747675281018, 6.97411023080349,],
        [44.57485302351415, 6.974136214703321,],
        [44.57494338043034, 6.974153816699982,],
        [44.57504304125905, 6.974178040400147,],
        [44.57512744702399, 6.974176950752735,],
        [44.575115041807294, 6.974223805591464,],
        [44.57512937486172, 6.97420503012836,],
        [44.575094589963555, 6.974229505285621,],
        [44.57508713006973, 6.974221542477608,],
        [44.575133649632335, 6.974176364019513,],
        [44.57511881366372, 6.974143506959081,],
        [44.5751475635916, 6.974157253280282,],
        [44.575184946879745, 6.974149039015174,],
        [44.575289972126484, 6.974155660718679,],
        [44.57540212199092, 6.974255405366421,],
        [44.575478984043, 6.974147781729698,],
        [44.575529191643, 6.97410486638546,],
        [44.57560890354216, 6.974019203335047,],
        [44.57563723437488, 6.973982993513346,],
        [44.575719544664025, 6.973972264677286,],
        [44.57577025517821, 6.973992800340056,],
        [44.57585508003831, 6.974001601338387,],
    ]
}

const Hike = () => {
    const [hike, setHike] = useState(undefined)
    const [user] = useState(true)
    // const { hikeId } = useParams()

    useEffect(() => {
        axios.get()
            .then(res => console.log(res))
            .catch(err => console.log(err))
            .finally(() => setHike(dummy))
    }, [])

    if (hike)
        return (
            <Col xs={12} xl={user ? 6 : 10} className={`${user ? "ms-auto" : "mx-auto"} my-5`}>
                {user &&
                    <HikeDetails.TrackMap start={hike.startPoint} end={hike.endPoint} track={hike.track} />}
                {!user &&
                    <Alert variant='warning' className='mb-5'>
                        You should be an autenticated hiker to see the map and to be able to download the track as a <code style={{ color: "currentcolor" }}>.gpx</code> file
                    </Alert>}
                <HikeDetails.Details hike={hike} />
                {user &&
                    <Button variant='primary-light fw-bold mt-5 w-100' size='lg'>
                        Download track
                    </Button>}
            </Col>
        )
}

export default Hike